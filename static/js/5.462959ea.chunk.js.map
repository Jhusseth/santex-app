{"version":3,"sources":["components/common/PageTitle.js","components/common/Alert.js","components/clients/EditUser.js","components/clients/TableClients.js","pages/Clients.js"],"names":["PageTitle","title","className","Alert","text","close","onClick","Modal","props","EditSchema","Yup","shape","firstName","required","lastName","identification","birthDate","useState","editClientSuccess","setEditClientSuccess","editClientError","setEditClientError","editLoading","setEditLoading","submitUser","values","a","publicFetch","put","client","data","message","response","setTimeout","setShowModal","window","location","reload","closeModal","showModal","GradientBar","Card","initialValues","split","onSubmit","validationSchema","FormSuccess","FormError","type","name","value","Label","FormInput","ariaLabel","placeholder","GradientButton","loading","TableClients","mResponse","setMResponse","show","setShow","setClient","deleteUser","id","delete","idCampus","scope","clients","map","key","_id","icon","faEdit","faTrashAlt","Users","setClients","useEffect","get","listUsers"],"mappings":"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","file":"static/js/5.462959ea.chunk.js","sourcesContent":["import React from 'react';\n\nconst PageTitle = ({ title }) => (\n  <div className=\"my-1 sm:my-4\">\n    <h2 className=\"text-gray-800 font-bold text-2xl font-nucleo\">\n      {title}\n    </h2>\n  </div>\n);\n\nexport default PageTitle;\n","import React from 'react'\n\nexport default function Alert({text, close}) {\n    return (\n        <>\n            <div className=\"text-white px-6 py-4 border-0 rounded relative mb-4 bg-teal-500\">\n                <span className=\"text-xl inline-block mr-5 align-middle\">\n                    <i className=\"fas fa-bell\" />\n                </span>\n                <span className=\"inline-block align-middle mr-8\">\n                    <b className=\"capitalize\">{text}</b>\n                </span>\n                <button className=\"absolute bg-transparent text-2xl font-semibold leading-none right-0 top-0 mt-4 mr-6 outline-none focus:outline-none\" onClick={close} >\n                    <span>Ã—</span>\n                </button>\n            </div>\n        </>\n    )\n}\n","import React,{useState} from \"react\";\nimport GradientBar from '../common/GradientBar';\nimport Card from '../common/Card';\nimport { Form, Formik} from 'formik';\nimport FormSuccess from '../FormSuccess'\nimport FormError from '../common/FormError'\nimport FormInput from '../FormInput'\nimport Label from '../common/Label';\nimport GradientButton from '../common/GradientButton';\nimport * as Yup from 'yup';\nimport { publicFetch } from '../../util/fetch';\n\nexport default function Modal(props) {\n    \n    const EditSchema = Yup.object().shape({\n        firstName: Yup.string().required('First name is required'),\n        lastName: Yup.string().required('Last name is required'),\n        identification: Yup.string().required('Id is required'),\n        birthDate: Yup.string().required('BirthDate is required'), \n    });\n    const [editClientSuccess, setEditClientSuccess] = useState();\n    const [editClientError, setEditClientError] = useState();\n    \n    \n    const [editLoading, setEditLoading] = useState(false);\n    \n    const submitUser = async values => {\n        try {\n            setEditLoading(true);\n            const { data } = await publicFetch.put(\n                `clients/${props.client.identification}`,\n                values\n            );\n    \n            setEditClientSuccess(data.message);\n            setEditClientError('');\n\n        }\n        catch (error) {\n            setEditLoading(false);\n            const { data } = error.response;\n            setEditClientError(data.message);\n            setEditClientSuccess('');\n        }\n        finally{\n            setTimeout(() => {\n                props.setShowModal(false)\n                window.location.reload();\n            }, 1000);\n        }\n    };\n\n    function closeModal () {\n        props.setShowModal(false)\n    }\n  return (\n    <>\n      {props.showModal ? (\n        <>\n            <section className=\"w-3/4 h-screen m-auto sm:pt-10\">\n                <GradientBar />\n                <Card>\n                    <div className=\"flex items-center justify-center py-7 px-2 sm:px-3 lg:px-3\">\n                        <div className=\"max-w-md w-full flex items-center justify-center\">\n                            <Formik\n                                initialValues={{\n                                    identification: props.client.identification,\n                                    firstName: props.client.firstName,\n                                    lastName: props.client.lastName,\n                                    birthDate: props.client.birthDate.split('T')[0],\n                                }}\n                                onSubmit={values =>\n                                submitUser(values)\n                                }\n                                validationSchema={EditSchema}\n                            >\n                                {({values}) => (\n                                <Form className=\"mt-8\">\n                                    {editClientSuccess && (\n                                    <FormSuccess text={editClientSuccess} />\n                                    )}\n                                    {editClientError && (\n                                    <FormError text={editClientError} />\n                                    )}\n                                    <input\n                                    type=\"hidden\"\n                                    name=\"remember\"\n                                    value=\"true\"\n                                    />\n                                    <div>\n                                        <div className=\"flex\">\n                                            <div className=\"mb-2 mr-2 w-1/2\">\n                                                <div className=\"mb-1\">\n                                                    <Label text=\"First Name\" />\n                                                </div>\n                                                <FormInput\n                                                ariaLabel=\"First Name\"\n                                                name=\"firstName\"\n                                                type=\"text\"\n                                                placeholder=\"First Name\"\n                                                />\n                                            </div>\n                                            <div className=\"mb-2 ml-2 w-1/2 \">\n                                                 <div className=\"mb-1\">\n                                                    <Label text=\"Last Name\" />\n                                                </div>\n                                                <FormInput\n                                                ariaLabel=\"Last Name\"\n                                                name=\"lastName\"\n                                                type=\"text\"\n                                                placeholder=\"Last Name\"\n                                                />\n                                            </div>\n                                        </div>\n                                        <div className=\"flex\">\n                                            <div className=\"mb-2 mr-2 w-1/2\">\n                                                <div className=\"mb-1\">\n                                                    <Label text=\"Identification\" />\n                                                </div>\n                                                <FormInput\n                                                ariaLabel=\"Identification\"\n                                                name=\"identification\"\n                                                type=\"number\"\n                                                placeholder=\"Identification\"\n                                                />\n                                            </div>\n                                            <div className=\"mb-2 ml-2 w-1/2 \">\n                                                <div className=\"mb-1\">\n                                                    <Label text=\"BirthDate\" />\n                                                </div>\n                                                <FormInput\n                                                ariaLabel=\"BirthDate\"\n                                                name=\"birthDate\"\n                                                type=\"Date\"\n                                                placeholder=\"BirthDate\"\n                                                />\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"mt-6 flex items-center justify-center font-nucleo\">\n                                        <GradientButton\n                                            type=\"submit\"\n                                            text=\"Save\"\n                                            loading={editLoading}\n                                        />\n                                        <div className=\"ml-6\">\n                                            <GradientButton\n                                                text=\"Close\"\n                                                onClick={closeModal}\n                                            />\n                                        </div>\n                                    </div>\n                                </Form>\n                                )}\n                            </Formik>\n                        </div>\n                    </div>\n                </Card>\n            </section>\n        </>\n      ) : null}\n    </>\n  );\n}\n","import React,{ useState } from 'react'\nimport Card from '../common/Card';\nimport GradientBar from '../common/GradientBar';\nimport { publicFetch } from '../../util/fetch';\nimport Alert from '../common/Alert'\nimport EditUser from './EditUser'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faEdit,\n  faTrashAlt\n} from '@fortawesome/free-solid-svg-icons';\n\nexport default function TableClients(props) {\n\n    const [mResponse, setMResponse] = useState();\n    const [show, setShow] = useState(false);\n    const [showModal, setShowModal] = useState(false);\n    const [client, setClient] = useState();\n\n    const deleteUser = async (id)=>{\n        try {\n            const { data } = await publicFetch.delete(\n            `${props.idCampus}/user/delete/${id}` \n            );\n                \n            setMResponse(data.message)\n            setShow(true)\n        }\n        catch (error) {\n            const { data } = error.response;\n            setMResponse(data.message)\n            setShow(true)\n        }\n    }\n\n    const close = ()=>{\n        setShow(false)\n    }\n\n    const edit = (user)=>{\n        setClient(user)\n        setShowModal(true)\n    }\n\n    return (\n        <>\n            {showModal?<EditUser setShowModal={setShowModal} client={client} showModal={showModal}/>:<>\n            <GradientBar />\n            <Card>\n                {show?<Alert text={mResponse} close={close}/>:null}\n                <div className=\"inline-block min-w-full rounded-lg overflow-hidden\">\n                    <table className=\"min-w-full leading-normal\">\n                        <thead>\n                            <tr>\n                                <th scope=\"col\" className=\"px-0 py-3 bg-white  border-b border-gray-200 text-gray-800  text-center text-sm uppercase font-normal font-nucleo\">\n                                    id\n                                </th>\n                                <th scope=\"col\" className=\"px-0 py-3 bg-white  border-b border-gray-200 text-gray-800  text-center text-sm uppercase font-normal font-nucleo\">\n                                    firstname\n                                </th>\n                                <th scope=\"col\" className=\"px-0 py-3 bg-white  border-b border-gray-200 text-gray-800  text-center text-sm uppercase font-normal font-nucleo\">\n                                    lastname    \n                                </th>\n                                <th scope=\"col\" className=\"px-0 py-3 bg-white  border-b border-gray-200 text-gray-800  text-center text-sm uppercase font-normal font-nucleo\">\n                                    birthdate\n                                </th>\n                                <th scope=\"col\" className=\"px-0 py-3 bg-white  border-b border-gray-200 text-gray-800  text-center text-sm uppercase font-normal font-nucleo\">\n                                    edit\n                                </th>\n                                <th scope=\"col\" className=\"px-0 py-3 bg-white  border-b border-gray-200 text-gray-800  text-center text-sm uppercase font-normal font-nucleo\">\n                                    delete\n                                </th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {props.clients.map((client) => (\n                            <tr key={client._id}>\n                                <td className=\"px-0 py-5 border-b border-gray-200 bg-white text-sm text-center\">\n                                    <div className=\"flex items-center justify-center\">\n                                        <div className=\"ml-3\">\n                                            <p className=\"text-gray-900 whitespace-no-wrap font-serif\">\n                                                {client.identification}\n                                            </p>\n                                        </div>\n                                    </div>\n                                </td>\n                                <td className=\"px-0 py-5 border-b border-gray-200 bg-white text-sm text-center\">\n                                    <div className=\"flex items-center justify-center\">\n                                        <div className=\"ml-3\">\n                                            <p className=\"text-gray-900 whitespace-no-wrap font-serif\">\n                                                {client.firstName}\n                                            </p>\n                                        </div>\n                                    </div>\n                                </td>\n                                <td className=\"px-0 py-5 border-b border-gray-200 bg-white text-sm text-center\">\n                                    <div className=\"flex items-center justify-center\">\n                                        <div className=\"ml-3\">\n                                            <p className=\"text-gray-900 whitespace-no-wrap font-serif\">\n                                                {client.lastName}\n                                            </p>\n                                        </div>\n                                    </div>\n                                </td>\n                                <td className=\"px-0 py-5 border-b border-gray-200 bg-white text-sm ml-5 text-center\">\n                                    <div className=\"flex items-center justify-center\">\n                                        <div className=\"ml-3\">\n                                            <p className=\"text-gray-900 whitespace-no-wrap font-serif\">\n                                                {client.birthDate.split('T')[0]}\n                                            </p>\n                                        </div>\n                                    </div>\n                                </td>\n                                <td className=\"px-0 py-5 border-b border-gray-200  text-sm items-center\">\n                                    <div className=\"flex justify-center\">\n                                        <button className=\"rounded-full shadow flex items-center px-3 py-3\" onClick={()=>edit(client)}>\n                                            <FontAwesomeIcon icon={faEdit} />\n                                        </button>\n                                    </div>\n                                </td>\n                                <td className=\"px-0 py-5 border-b border-gray-200 text-sm items-center\">\n                                    <div className=\"flex justify-center\">\n                                        <button className=\"rounded-full shadow hover:text-indigo-900 flex items-center px-3 py-3 \" onClick={()=>deleteUser(client.identification)}>\n                                            <FontAwesomeIcon icon={faTrashAlt} />\n                                        </button>\n                                    </div>\n                                </td>\n                            </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            </Card></>}\n        </>\n    )\n}\n","import React , {useState, useEffect} from 'react'\nimport TableClients from '../components/clients/TableClients'\nimport PageTitle from '../components/common/PageTitle';\nimport { publicFetch } from '../util/fetch';\n\n\nexport default function Users() {\n;\n    const [clients, setClients ]=  useState([])\n\n    useEffect(() => { \n        const listUsers = async () => {\n            const {data} = await publicFetch.get(\n                `clients`\n            )\n    \n            setClients(data.clients)\n        }\n\n        listUsers()\n    },[])\n\n    return (\n        <>\n            <div className=\"container mx-auto px-4\">\n                <PageTitle title=\"Clients\" />\n                <div className=\"py-8\">\n                    <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto\">\n                        <div>\n                            <TableClients clients={clients} />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n}\n"],"sourceRoot":""}