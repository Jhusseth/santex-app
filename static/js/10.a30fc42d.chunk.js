(this.webpackJsonpuser_manager_app=this.webpackJsonpuser_manager_app||[]).push([[10],{158:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var r=a(46),n=a.n(r),c=a(47),s=a(68),l=a(7),o=a(0),i=a.n(o),m=a(8),u=a(31),d=a(15),f=a(11),p=a(70),g=a(35),x=a(69),b=a(4),h=a(140),E=a.n(h);function v(){var e=Object(m.c)(),t=e.authState,a=e.removeProductCartItem,r=e.setOrders,h=e.removeAllProductsCartItems,v=Object(o.useState)(!1),N=Object(l.a)(v,2),C=N[0],w=N[1],y=Object(o.useState)(0),j=Object(l.a)(y,2),O=j[0],k=j[1];Object(o.useEffect)((function(){!function(){var e=0;t.productsCart&&t.productsCart.length&&t.productsCart.forEach((function(t){return e+=t.price})),k(e)}()}),[]);var _=function(e){var r=E.a.mixin({customClass:{confirmButton:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded ml-3",cancelButton:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded"},buttonsStyling:!1});r.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then((function(n){n.isConfirmed?(r.fire("Deleted!","Your product has been deleted.","success"),a(e),function(e){if(t.productsCart&&t.productsCart.length){var a=t.productsCart.find((function(t){return t._id===e}));a&&k((function(e){return e-a.price}))}}(e)):n.dismiss===E.a.DismissReason.cancel&&r.fire("Cancelled","Your product is safe :)","error")}))},B=function(){var e=Object(s.a)(n.a.mark((function e(){var a,s,l,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.userInfo&&t.userInfo&&t.userInfo.identification)){e.next=11;break}return a=Object(c.a)(t.productsCart).map((function(e){return e._id})),s={client:t.userInfo.identification,products:a},e.next=5,x.a.post("clients/order",s);case 5:l=e.sent,o=l.data,E.a.fire({position:"top-center",icon:"success",title:o.message,showConfirmButton:!1,timer:1500}),r({client:t.userInfo.identification,products:Object(c.a)(t.productsCart)}),h(),w(!0);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,C?i.a.createElement(b.a,{to:"/orders"}):null,i.a.createElement("div",{className:"sm:w-3/4 h-auto m-auto sm:pt-3  mt-10 shadow-xl"},i.a.createElement(g.a,null),i.a.createElement(u.a,null,i.a.createElement("h1",{className:"text-2xl font-nucleo"},"Shopping Cart"),i.a.createElement("div",{className:"flex flex-col mt-10 justify-center text-center items-center"},i.a.createElement("div",{className:"flex flex-col"},t.productsCart&&t.productsCart.length?t.productsCart.map((function(e){return i.a.createElement("div",{className:"border mb-3",key:e._id},i.a.createElement(u.a,null,i.a.createElement("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 text-center justify-between items-center"},i.a.createElement("div",{className:"flex justify-center item-center text-center"},i.a.createElement("img",{src:e.image,className:"w-16 h-16 ",alt:""})),i.a.createElement("div",{className:"float-left mr-auto"},i.a.createElement("h1",{className:"text-md"},e.name),i.a.createElement("p",{className:"text-sm text-gray-900"}," ",e.owner," ")),i.a.createElement("div",{className:"float-right md:ml-10"},i.a.createElement("span",{className:"relative inline-block px-3 py-1 font-semibold text-gray-900 leading-tight text-center"},i.a.createElement("span",{"aria-hidden":"true",className:"absolute inset-0 bg-blue-200 opacity-50 rounded-full text-center"}),i.a.createElement("span",{className:"relative text-center"},i.a.createElement("p",{className:"text-md font-semibold"},"$",e.price)))),i.a.createElement("div",{className:"float-right ml-auto text-center justify-between items-center pr-4"},i.a.createElement("button",{className:"text-red-700 text-lg",onClick:function(){_(e._id)}},i.a.createElement(d.a,{icon:f.j}))))))})):null),i.a.createElement("hr",{className:"h-1 w-full text-gray-900 bg-gray-200 mt-10"}),i.a.createElement("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-2"},i.a.createElement("div",{className:"float-left mr-auto"},i.a.createElement("h1",{className:"text-md font-serif font-bold"},"Total Value:")),i.a.createElement("div",{className:"float-right ml-auto font-nucleo"},i.a.createElement("h1",{className:"text-md"},"$ ",O))),i.a.createElement("div",{className:"mt-10"},t.productsCart&&t.productsCart.length?i.a.createElement(p.a,{text:"Make an Order",onClick:B}):null)))))}}}]);
//# sourceMappingURL=10.a30fc42d.chunk.js.map