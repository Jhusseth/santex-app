(this.webpackJsonpuser_manager_app=this.webpackJsonpuser_manager_app||[]).push([[6],{139:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(e){var t=e.title;return r.a.createElement("div",{className:"my-1 sm:my-4"},r.a.createElement("h2",{className:"text-gray-800 font-bold text-2xl font-nucleo"},t))}},159:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return D}));var n=a(46),r=a.n(n),c=a(68),l=a(7),s=a(0),i=a.n(s),m=a(139),o=a(69),u=a(102),d=a.n(u),p=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"w-64 h-auto relative"},i.a.createElement("div",{className:"pb-3 bg-white py-4 px-3 border-4 rounded border-gray-200 h-full shadow-md"},i.a.createElement("div",{className:"flex justify-center item-center text-center"},i.a.createElement("img",{src:e.product.image,className:"w-56 h-48 ",alt:""})),i.a.createElement("div",{className:"flex justify-between"},i.a.createElement("div",{className:"py-4 flex space-x-2 items-center"},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor"},i.a.createElement("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"})),i.a.createElement("p",{className:"text-lg font-semibold font-nucleo"},e.product.name)),i.a.createElement("div",{className:"py-8 "},i.a.createElement("p",{className:"text-sm pl-6 font-semibold font-serif"},"Price:"),i.a.createElement("span",{className:"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight"},i.a.createElement("span",{"aria-hidden":"true",className:"absolute inset-0 bg-green-200 opacity-50 rounded-full"}),i.a.createElement("span",{className:"relative"},i.a.createElement("p",{className:"text-md font-semibold font-nucleo"},"$",e.product.price))))),i.a.createElement("div",{className:"bottom-0"},i.a.createElement("div",{className:"flex justify-center text-right"},i.a.createElement("div",{className:"bg-gradient py-4 px-6 rounded-lg w-full "},i.a.createElement("p",{className:"text-white text-md font-semibold pb-2 font-sans"},e.product.description),i.a.createElement("div",{className:"flex space-x-2"},i.a.createElement("img",{src:d.a,className:"w-8 h-8 rounded-full border-2 border-white",alt:""})),i.a.createElement("div",{className:"py-1 px-0 rounded-sm w-full flex justify-end"},i.a.createElement("button",{onClick:function(){return e.onClickEdit(e.product)},className:"border bg-gradient text-white font-bold py-4 px-4 rounded-lg uppercase text-sm shadow-xl font-nucleo"},"Edit"))))))))},f=a(35),E=a(31),b=a(36),v=a(71),x=a(89),N=a(28),g=a(27),h=a(70),w=a(19);function y(e){var t=w.a().shape({name:w.b().required("Product name is required"),description:w.b().required("Description is required"),price:w.b().required("Price is required")}),a=Object(s.useState)(),n=Object(l.a)(a,2),m=n[0],u=n[1],d=Object(s.useState)(),p=Object(l.a)(d,2),y=p[0],j=p[1],O=Object(s.useState)(""),S=Object(l.a)(O,2),k=S[0],P=S[1],q=Object(s.useState)(),D=Object(l.a)(q,2),F=D[0],L=D[1],C=Object(s.useState)(!1),I=Object(l.a)(C,2),_=I[0],R=I[1],T=Object(s.useState)(!1),U=Object(l.a)(T,2),V=U[0],A=U[1],$=function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,A(!0),a.imageType=F,a.image=k,a.owner=e.owner,t.next=7,o.a.post("products",a);case 7:n=t.sent,c=n.data,u(c.message),j(""),setTimeout((function(){window.location.reload()}),10),t.next=20;break;case 14:t.prev=14,t.t0=t.catch(0),A(!1),l=t.t0.response.data,j(l.message),u("");case 20:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}(),J=function(e){var t=e.target.files[0];R(!0),z(t)},z=function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){!function(e){P(e);var t=e.split(",");L(t[0])}(t.result)}};return i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"w-3/4 h-screen m-auto sm:pt-10"},i.a.createElement(f.a,null),i.a.createElement(E.a,null,i.a.createElement("div",{className:"flex items-center justify-center py-7 px-2 sm:px-3 lg:px-3"},i.a.createElement("div",{className:"max-w-md w-full flex items-center justify-center"},i.a.createElement(b.c,{initialValues:{name:"",description:"",price:0,category:"Uniformes"},onSubmit:function(e){return $(e)},validationSchema:t},(function(){return i.a.createElement(b.b,{className:"mt-8"},m&&i.a.createElement(v.a,{text:m}),y&&i.a.createElement(x.a,{text:y}),i.a.createElement("input",{type:"hidden",name:"remember",value:"true"}),i.a.createElement("div",null,i.a.createElement("div",{className:"mb-2 mr-2 w-full"},i.a.createElement("div",{className:"mb-1"},i.a.createElement(g.a,{text:"Image"})),_?i.a.createElement("div",{className:"flex justify-center mb-3"},i.a.createElement("img",{src:k,className:"w-32 h-32 ",alt:""})):i.a.createElement(i.a.Fragment,null),i.a.createElement("div",{className:"file-select",id:"src-file"},i.a.createElement("input",{type:"file",onChange:J,className:"inline-block relative"}))),i.a.createElement("div",{className:"flex"},i.a.createElement("div",{className:"mb-2 mr-2 w-1/2"},i.a.createElement("div",{className:"mb-1"},i.a.createElement(g.a,{text:"Name"})),i.a.createElement(N.a,{ariaLabel:"Name",name:"name",type:"text",placeholder:"Name"})),i.a.createElement("div",{className:"mb-2 ml-2 w-1/2 "},i.a.createElement("div",{className:"mb-1"},i.a.createElement(g.a,{text:"Price (cop) $:"})),i.a.createElement(N.a,{ariaLabel:"Price",name:"price",type:"number",placeholder:"Price"}))),i.a.createElement("div",{className:"mb-2 w-full"},i.a.createElement("div",{className:"mb-1"},i.a.createElement(g.a,{text:"Description"})),i.a.createElement("div",null,i.a.createElement(N.a,{ariaLabel:"Description",name:"description",type:"text",placeholder:"Description"})))),i.a.createElement("div",{className:"mt-6 flex items-center justify-center font-nucleo"},i.a.createElement(h.a,{type:"submit",text:"Save",loading:V})))})))))))}function j(e){var t=w.a().shape({name:w.b().required("Product name is required"),description:w.b().required("Description is required"),price:w.b().required("Price is required")}),a=Object(s.useState)(),n=Object(l.a)(a,2),m=n[0],u=n[1],d=Object(s.useState)(),p=Object(l.a)(d,2),y=p[0],j=p[1],O=Object(s.useState)(""),S=Object(l.a)(O,2),k=S[0],P=S[1],q=Object(s.useState)(),D=Object(l.a)(q,2),F=D[0],L=D[1],C=Object(s.useState)(!1),I=Object(l.a)(C,2),_=(I[0],I[1]),R=Object(s.useState)(!1),T=Object(l.a)(R,2),U=T[0],V=T[1],A=function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,V(!0),a.imageType=F,a.image=k,a.owner=e.owner,t.next=7,o.a.put("products/".concat(e.product._id),a);case 7:n=t.sent,c=n.data,u(c.message),j(""),setTimeout((function(){window.location.reload()}),10),t.next=20;break;case 14:t.prev=14,t.t0=t.catch(0),V(!1),l=t.t0.response.data,j(l.message),u("");case 20:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}(),$=function(e){var t=e.target.files[0];_(!0),J(t)},J=function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){!function(e){P(e);var t=e.split(",");L(t[0])}(t.result)}},z={name:e.product?e.product.name:"",description:e.product?e.product.description:"",price:e.product?e.product.price:"",category:e.product?e.product.category:"Uniformes"};return i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"w-3/4 h-screen m-auto sm:pt-10"},i.a.createElement(f.a,null),i.a.createElement(E.a,null,i.a.createElement("div",{className:"flex items-center justify-center py-7 px-2 sm:px-3 lg:px-3"},i.a.createElement("div",{className:"max-w-md w-full flex items-center justify-center"},i.a.createElement(b.c,{initialValues:z,onSubmit:function(e){return A(e)},validationSchema:t},(function(){return i.a.createElement(b.b,{className:"mt-8"},m&&i.a.createElement(v.a,{text:m}),y&&i.a.createElement(x.a,{text:y}),i.a.createElement("input",{type:"hidden",name:"remember",value:"true"}),i.a.createElement("div",null,i.a.createElement("div",{className:"mb-2 mr-2 w-full"},i.a.createElement("div",{className:"mb-1"},i.a.createElement(g.a,{text:"Image"})),i.a.createElement("div",{className:"flex justify-center mb-3"},i.a.createElement("img",{src:e.product.image,className:"w-32 h-32 ",alt:""})),i.a.createElement("div",{className:"file-select",id:"src-file"},i.a.createElement("input",{type:"file",onChange:$,className:"inline-block relative"}))),i.a.createElement("div",{className:"flex"},i.a.createElement("div",{className:"mb-2 mr-2 w-1/2"},i.a.createElement("div",{className:"mb-1"},i.a.createElement(g.a,{text:"Name"})),i.a.createElement(N.a,{ariaLabel:"Name",name:"name",type:"text",placeholder:"Name"})),i.a.createElement("div",{className:"mb-2 ml-2 w-1/2 "},i.a.createElement("div",{className:"mb-1"},i.a.createElement(g.a,{text:"Price (cop) $:"})),i.a.createElement(N.a,{ariaLabel:"Price",name:"price",type:"number",placeholder:"Price"}))),i.a.createElement("div",{className:"mb-2 w-full"},i.a.createElement("div",{className:"mb-1"},i.a.createElement(g.a,{text:"Description"})),i.a.createElement("div",null,i.a.createElement(N.a,{ariaLabel:"Description",name:"description",type:"text",placeholder:"Description"})))),i.a.createElement("div",{className:"mt-6 flex items-center justify-center font-nucleo"},i.a.createElement(h.a,{type:"submit",text:"Save",loading:U})))})))))))}var O=a(8),S=a(15),k=a(11);function P(e){var t=e.searchProduct;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"flex"},i.a.createElement(b.c,{initialValues:{search:""},onSubmit:function(e){return t(e)}},(function(){return i.a.createElement(b.b,null,i.a.createElement("div",{className:"flex"},i.a.createElement(b.a,{className:"py-2 px-4 border bg-gray-400 border-gray-300 rounded-full focus:outline-none w-32 sm:w-64","aria-label":"Search",name:"search",type:"text",placeholder:"Search"}),i.a.createElement("button",{className:"rounded-full bg-gradient px-4 ml-2 text-white flex items-center text-xs focus:outline-none shadow-lg",type:"submit"},i.a.createElement(S.a,{icon:k.a}))))}))))}var q=a(90);function D(e){var t=Object(s.useState)(!1),a=Object(l.a)(t,2),n=a[0],u=a[1],d=Object(s.useState)(!1),E=Object(l.a)(d,2),b=E[0],v=E[1],x=Object(s.useState)({show:!1,product:void 0}),N=Object(l.a)(x,2),g=N[0],w=N[1],S=Object(q.b)(),k=S.products,D=S.setProductInfo,F=Object(s.useContext)(O.a).authState;Object(s.useEffect)((function(){n||function(){var e=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("products");case 2:t=e.sent,a=t.data,D({action:"define",payload:a.products});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var L=function(){v(!b),w(!1)},C=function(e){w({show:!0,product:e}),v(!1)},I=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get("products/".concat(t.search));case 3:if(a=e.sent,0!==(n=a.data).products.length){e.next=15;break}return alert("No results"),e.next=9,o.a.get("products");case 9:c=e.sent,l=c.data,u(!0),D({action:"define",payload:l.products}),e.next=17;break;case 15:u(!0),D({action:"define",payload:n.products});case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(0),u(!0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"container mx-auto px-4"},i.a.createElement(m.a,{title:"Dashboard"}),i.a.createElement("div",{className:"flex mt-6 font-serif"},i.a.createElement(P,{searchProduct:I})),i.a.createElement("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto"},i.a.createElement("div",{className:"container-add font-nucleo"},i.a.createElement(h.a,{text:"Add",onClick:L})),i.a.createElement("div",{style:{display:"".concat(b?"block":"none")}},i.a.createElement(y,{showPanel:L,owner:F.userInfo.identification})),i.a.createElement(i.a.Fragment,null,g.show&&g.product?i.a.createElement("div",{style:{display:"block"}},i.a.createElement(j,{showPanel:C,owner:F.userInfo.identification,product:g.product})):null),i.a.createElement("div",{className:"mt-10"},i.a.createElement(f.a,null),i.a.createElement("div",{className:"flex items-center mt-5 sm:mt-10"},i.a.createElement("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},k&&k.length?k.map((function(e){return i.a.createElement(p,{key:e._id,product:e,owner:F.userInfo.firstName,onClickEdit:C})})):null))))))}}}]);
//# sourceMappingURL=6.8d99e191.chunk.js.map